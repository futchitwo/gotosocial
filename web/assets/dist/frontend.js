(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}function _iterableToArrayLimit(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var r,i,n=[],a=!0,l=!1;try{for(o=o.call(t);!(a=(r=o.next()).done)&&(n.push(r.value),!e||n.length!==e);a=!0);}catch(t){l=!0,i=t}finally{try{a||null==o.return||o.return()}finally{if(l)throw i}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}var Photoswipe=require("photoswipe/dist/umd/photoswipe.umd.min.js"),PhotoswipeLightbox=require("photoswipe/dist/umd/photoswipe-lightbox.umd.min.js"),PhotoswipeCaptionPlugin=require("photoswipe-dynamic-caption-plugin").default,PhotoswipeVideoPlugin=require("photoswipe-video-plugin").default,_window$location$path=window.location.pathname.split("/"),_window$location$path2=_slicedToArray(_window$location$path,4),_=_window$location$path2[0],_user=_window$location$path2[1],type=_window$location$path2[2],id=_window$location$path2[3];if("statuses"==type){var firstStatus=document.getElementsByClassName("thread")[0].children[0];firstStatus.id!=id&&document.getElementById(id).scrollIntoView()}var lightbox=new PhotoswipeLightbox({gallery:".photoswipe-gallery",children:"a",pswpModule:Photoswipe});new PhotoswipeCaptionPlugin(lightbox,{type:"auto"}),new PhotoswipeVideoPlugin(lightbox,{}),lightbox.init(),Array.from(document.getElementsByClassName("spoiler-label")).forEach(function(t){var e=document.getElementById(t.htmlFor);if(null!=e){var o=function(){e.checked?t.innerHTML="Show more":t.innerHTML="Show less"};o(),t.addEventListener("click",function(){setTimeout(o,1)})}});

},{"photoswipe-dynamic-caption-plugin":2,"photoswipe-video-plugin":4,"photoswipe/dist/umd/photoswipe-lightbox.umd.min.js":6,"photoswipe/dist/umd/photoswipe.umd.min.js":7}],2:[function(require,module,exports){
"use strict";function ownKeys(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function _objectSpread(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(t),!0).forEach(function(i){_defineProperty(e,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}return e}function _defineProperty(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var defaultOptions={captionContent:".pswp-caption-content",type:"auto",horizontalEdgeThreshold:20,mobileCaptionOverlapRatio:.3,mobileLayoutBreakpoint:600,verticallyCenterImage:!1},PhotoSwipeDynamicCaption=function(){function e(i,t){var n=this;_classCallCheck(this,e),this.options=_objectSpread(_objectSpread({},defaultOptions),t),this.lightbox=i,this.lightbox.on("init",function(){n.pswp=n.lightbox.pswp,n.initCaption()})}return _createClass(e,[{key:"initCaption",value:function(){var e=this,i=this.pswp;i.on("change",function(){e.showCaption(e.pswp.currSlide)}),i.on("calcSlideSize",function(i){return e.onCalcSlideSize(i)}),i.on("slideDestroy",function(e){e.slide.dynamicCaption&&(e.slide.dynamicCaption.element&&e.slide.dynamicCaption.element.remove(),delete e.slide.dynamicCaption)}),i.on("zoomPanUpdate",function(t){var n=t.slide;if(i.opener.isOpen&&n.dynamicCaption){if(n.currZoomLevel>n.zoomLevels.initial?e.hideCaption(n):e.showCaption(n),n.dynamicCaption.element){var a=0;if(n.currZoomLevel<=n.zoomLevels.initial){var o=n.pan.y-n.bounds.center.y;Math.abs(o)>1&&(a=o)}e.setCaptionYOffset(n.dynamicCaption.element,a)}e.adjustPanArea(n,n.currZoomLevel)}}),i.on("beforeZoomTo",function(t){e.adjustPanArea(i.currSlide,t.destZoomLevel)}),i.on("tapAction",function(e){e.originalEvent.target.closest(".pswp__dynamic-caption")&&e.preventDefault()})}},{key:"adjustPanArea",value:function(e,i){e.dynamicCaption&&e.dynamicCaption.adjustedPanAreaSize&&(i>e.zoomLevels.initial?(e.panAreaSize.x=e.dynamicCaption.originalPanAreaSize.x,e.panAreaSize.y=e.dynamicCaption.originalPanAreaSize.y):(e.panAreaSize.x=e.dynamicCaption.adjustedPanAreaSize.x,e.panAreaSize.y=e.dynamicCaption.adjustedPanAreaSize.y))}},{key:"useMobileLayout",value:function(){var e=this.options.mobileLayoutBreakpoint;return"function"==typeof e?e.call(this):"number"==typeof e&&window.innerWidth<e}},{key:"hideCaption",value:function(e){if(e.dynamicCaption&&!e.dynamicCaption.hidden){var i=e.dynamicCaption.element;if(!i)return;e.dynamicCaption.hidden=!0,i.classList.add("pswp__dynamic-caption--faded"),e.captionFadeTimeout&&clearTimeout(e.captionFadeTimeout),e.captionFadeTimeout=setTimeout(function(){i.style.visibility="hidden",delete e.captionFadeTimeout},400)}}},{key:"setCaptionYOffset",value:function(e,i){e.style.transform="translateY(".concat(i,"px)")}},{key:"showCaption",value:function(e){if(e.dynamicCaption&&e.dynamicCaption.hidden){var i=e.dynamicCaption.element;if(!i)return;e.dynamicCaption.hidden=!1,i.style.visibility="visible",clearTimeout(e.captionFadeTimeout),e.captionFadeTimeout=setTimeout(function(){i.classList.remove("pswp__dynamic-caption--faded"),delete e.captionFadeTimeout},50)}}},{key:"setCaptionPosition",value:function(e,i,t){var n=i<=this.options.horizontalEdgeThreshold;e.classList[n?"add":"remove"]("pswp__dynamic-caption--on-hor-edge"),e.style.left=i+"px",e.style.top=t+"px"}},{key:"setCaptionWidth",value:function(e,i){i?e.style.width=i+"px":e.style.removeProperty("width")}},{key:"setCaptionType",value:function(e,i){var t=e.dataset.pswpCaptionType;i!==t&&(e.classList.add("pswp__dynamic-caption--"+i),e.classList.remove("pswp__dynamic-caption--"+t),e.dataset.pswpCaptionType=i)}},{key:"updateCaptionPosition",value:function(e){if(e.dynamicCaption&&e.dynamicCaption.type&&e.dynamicCaption.element){if("mobile"===e.dynamicCaption.type)return this.setCaptionType(e.dynamicCaption.element,e.dynamicCaption.type),e.dynamicCaption.element.style.removeProperty("left"),e.dynamicCaption.element.style.removeProperty("top"),void this.setCaptionWidth(e.dynamicCaption.element,!1);var i=e.zoomLevels.initial,t=Math.ceil(e.width*i),n=Math.ceil(e.height*i);this.setCaptionType(e.dynamicCaption.element,e.dynamicCaption.type),"aside"===e.dynamicCaption.type?(this.setCaptionPosition(e.dynamicCaption.element,e.bounds.center.x+t,e.bounds.center.y),this.setCaptionWidth(e.dynamicCaption.element,!1)):"below"===e.dynamicCaption.type&&(this.setCaptionPosition(e.dynamicCaption.element,e.bounds.center.x,e.bounds.center.y+n),this.setCaptionWidth(e.dynamicCaption.element,t))}}},{key:"onCalcSlideSize",value:function(e){var i,t=e.slide;if(!t.dynamicCaption){t.dynamicCaption={element:void 0,type:!1,hidden:!1};var n=this.getCaptionHTML(t);if(!n)return;t.dynamicCaption.element=document.createElement("div"),t.dynamicCaption.element.className="pswp__dynamic-caption pswp__hide-on-close",t.dynamicCaption.element.innerHTML=n,this.pswp.dispatch("dynamicCaptionUpdateHTML",{captionElement:t.dynamicCaption.element,slide:t}),t.holderElement.appendChild(t.dynamicCaption.element)}if(t.dynamicCaption.element){this.storeOriginalPanAreaSize(t),t.bounds.update(t.zoomLevels.initial),this.useMobileLayout()?(t.dynamicCaption.type="mobile",i=!0):"auto"===this.options.type?t.bounds.center.x>t.bounds.center.y?t.dynamicCaption.type="aside":t.dynamicCaption.type="below":t.dynamicCaption.type=this.options.type;var a=Math.ceil(t.width*t.zoomLevels.initial),o=Math.ceil(t.height*t.zoomLevels.initial);if(this.setCaptionType(t.dynamicCaption.element,t.dynamicCaption.type),"aside"===t.dynamicCaption.type){this.setCaptionWidth(t.dynamicCaption.element,!1);var p=this.measureCaptionSize(t.dynamicCaption.element,e.slide).x,r=a+t.bounds.center.x;t.panAreaSize.x-r<=p&&(t.panAreaSize.x-=p,this.recalculateZoomLevelAndBounds(t))}else if("below"===t.dynamicCaption.type||i){this.setCaptionWidth(t.dynamicCaption.element,i?this.pswp.viewportSize.x:a);var s=this.measureCaptionSize(t.dynamicCaption.element,e.slide).y;if(this.options.verticallyCenterImage)t.panAreaSize.y-=s,this.recalculateZoomLevelAndBounds(t);else{var c=o+t.bounds.center.y,d=t.panAreaSize.y-c,l=t.panAreaSize.y;if(d<=s){t.panAreaSize.y-=Math.min(2*(s-d),s),this.recalculateZoomLevelAndBounds(t);var y=t.panAreaSize.x*this.options.mobileCaptionOverlapRatio/2;i&&t.bounds.center.x>y&&(t.panAreaSize.y=l,this.recalculateZoomLevelAndBounds(t))}}}this.storeAdjustedPanAreaSize(t),this.updateCaptionPosition(t)}}},{key:"measureCaptionSize",value:function(e,i){var t=e.getBoundingClientRect();return this.pswp.dispatch("dynamicCaptionMeasureSize",{captionEl:e,slide:i,captionSize:{x:t.width,y:t.height}}).captionSize}},{key:"recalculateZoomLevelAndBounds",value:function(e){e.zoomLevels.update(e.width,e.height,e.panAreaSize),e.bounds.update(e.zoomLevels.initial)}},{key:"storeAdjustedPanAreaSize",value:function(e){e.dynamicCaption&&(e.dynamicCaption.adjustedPanAreaSize||(e.dynamicCaption.adjustedPanAreaSize={}),e.dynamicCaption.adjustedPanAreaSize.x=e.panAreaSize.x,e.dynamicCaption.adjustedPanAreaSize.y=e.panAreaSize.y)}},{key:"storeOriginalPanAreaSize",value:function(e){e.dynamicCaption&&(e.dynamicCaption.originalPanAreaSize||(e.dynamicCaption.originalPanAreaSize={}),e.dynamicCaption.originalPanAreaSize.x=e.panAreaSize.x,e.dynamicCaption.originalPanAreaSize.y=e.panAreaSize.y)}},{key:"getCaptionHTML",value:function(e){if("function"==typeof this.options.captionContent)return this.options.captionContent.call(this,e);var i=e.data.element,t="";if(i){var n=i.querySelector(this.options.captionContent);if(n)t=n.innerHTML;else{var a=i.querySelector("img");a&&(t=a.getAttribute("alt"))}}return t}}]),e}(),_default=PhotoSwipeDynamicCaption;exports.default=_default;

},{}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultOptions=void 0;var defaultOptions={videoAttributes:{controls:"",playsinline:"",preload:"auto"},autoplay:!0,preventDragOffset:40};exports.defaultOptions=defaultOptions;

},{}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _defaultOptions=require("./default-options.js"),_videoContentSetup=_interopRequireDefault(require("./video-content-setup.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var PhotoSwipeVideoPlugin=_createClass(function e(t,r){_classCallCheck(this,e),new _videoContentSetup.default(t,_objectSpread(_objectSpread({},_defaultOptions.defaultOptions),r))}),_default=PhotoSwipeVideoPlugin;exports.default=_default;

},{"./default-options.js":3,"./video-content-setup.js":5}],5:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function isVideoContent(e){return e&&e.data&&"video"===e.data.type}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var VideoContentSetup=function(){function e(t,n){var o=this;_classCallCheck(this,e),this.options=n,this.initLightboxEvents(t),t.on("init",function(){o.initPswpEvents(t.pswp)})}return _createClass(e,[{key:"initLightboxEvents",value:function(e){e.on("contentLoad",this.onContentLoad.bind(this)),e.on("contentDestroy",this.onContentDestroy.bind(this)),e.on("contentActivate",this.onContentActivate.bind(this)),e.on("contentDeactivate",this.onContentDeactivate.bind(this)),e.on("contentAppend",this.onContentAppend.bind(this)),e.on("contentResize",this.onContentResize.bind(this)),e.addFilter("isKeepingPlaceholder",this.isKeepingPlaceholder.bind(this)),e.addFilter("isContentZoomable",this.isContentZoomable.bind(this)),e.addFilter("useContentPlaceholder",this.useContentPlaceholder.bind(this)),e.addFilter("domItemData",function(e,t,n){return"video"===e.type&&n&&(n.dataset.pswpVideoSources?e.videoSources=JSON.parse(pswpVideoSources):n.dataset.pswpVideoSrc?e.videoSrc=n.dataset.pswpVideoSrc:e.videoSrc=n.href),e})}},{key:"initPswpEvents",value:function(e){var t=this;e.on("pointerDown",function(n){var o=e.currSlide;if(isVideoContent(o)&&t.options.preventDragOffset){var i=n.originalEvent;if("pointerdown"===i.type){var s=Math.ceil(o.height*o.currZoomLevel)+o.bounds.center.y,a=i.pageY-e.offset.y;a>s-t.options.preventDragOffset&&a<s&&n.preventDefault()}}}),e.on("appendHeavy",function(e){isVideoContent(e.slide)&&!e.slide.isActive&&e.preventDefault()}),e.on("close",function(){isVideoContent(e.currSlide.content)&&(e.options.showHideAnimationType&&"zoom"!==e.options.showHideAnimationType||(e.options.showHideAnimationType="fade"),t.pauseVideo(e.currSlide.content))})}},{key:"onContentDestroy",value:function(e){var t=e.content;isVideoContent(t)&&t._videoPosterImg&&(t._videoPosterImg.onload=t._videoPosterImg.onerror=null,t._videoPosterImg=null)}},{key:"onContentResize",value:function(e){if(isVideoContent(e.content)){e.preventDefault();var t=e.width,n=e.height,o=e.content;if(o.element&&(o.element.style.width=t+"px",o.element.style.height=n+"px"),o.slide&&o.slide.placeholder){var i=o.slide.placeholder.element.style;i.transform="none",i.width=t+"px",i.height=n+"px"}}}},{key:"isKeepingPlaceholder",value:function(e,t){return!isVideoContent(t)&&e}},{key:"isContentZoomable",value:function(e,t){return!isVideoContent(t)&&e}},{key:"onContentActivate",value:function(e){var t=e.content;isVideoContent(t)&&this.options.autoplay&&this.playVideo(t)}},{key:"onContentDeactivate",value:function(e){var t=e.content;isVideoContent(t)&&this.pauseVideo(t)}},{key:"onContentAppend",value:function(e){isVideoContent(e.content)&&(e.preventDefault(),e.content.isAttached=!0,e.content.appendImage())}},{key:"onContentLoad",value:function(e){var t=e.content;if(isVideoContent(e.content)&&(e.preventDefault(),!t.element)){if(t.state="loading",t.type="video",t.element=document.createElement("video"),this.options.videoAttributes)for(var n in this.options.videoAttributes)t.element.setAttribute(n,this.options.videoAttributes[n]||"");t.element.setAttribute("poster",t.data.msrc),this.preloadVideoPoster(t,t.data.msrc),t.element.style.position="absolute",t.element.style.left=0,t.element.style.top=0,t.data.videoSources?t.data.videoSources.forEach(function(e){var n=document.createElement("source");n.src=e.src,n.type=e.type,t.element.appendChild(n)}):t.data.videoSrc&&(t.element.src=t.data.videoSrc)}}},{key:"preloadVideoPoster",value:function(e,t){!e._videoPosterImg&&t&&(e._videoPosterImg=new Image,e._videoPosterImg.src=t,e._videoPosterImg.complete?e.onLoaded():e._videoPosterImg.onload=e._videoPosterImg.onerror=function(){e.onLoaded()})}},{key:"playVideo",value:function(e){e.element&&e.element.play()}},{key:"pauseVideo",value:function(e){e.element&&e.element.pause()}},{key:"useContentPlaceholder",value:function(e,t){return!!isVideoContent(t)||e}}]),e}(),_default=VideoContentSetup;exports.default=_default;

},{}],6:[function(require,module,exports){
"use strict";function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var i,n=_getPrototypeOf(t);if(e){var s=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).PhotoSwipeLightbox=e()}(void 0,function(){function t(t,e,i){var n=document.createElement(e||"div");return t&&(n.className=t),i&&i.appendChild(n),n}function e(t,e,i){t.style.width="number"==typeof e?e+"px":e,t.style.height="number"==typeof i?i+"px":i}var i="idle",n="loading",s="loaded",a="error";function o(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,n=[];if(t instanceof Element)n=[t];else if(t instanceof NodeList||Array.isArray(t))n=Array.from(t);else{var s="string"==typeof t?t:e;s&&(n=Array.from(i.querySelectorAll(s)))}return n}function r(){return!(!navigator.vendor||!navigator.vendor.match(/apple/i))}var h=function(){function t(e,i){_classCallCheck(this,t),this.type=e,i&&Object.assign(this,i)}return _createClass(t,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),t}(),l=function(){function i(e,n){_classCallCheck(this,i),this.element=t("pswp__img pswp__img--placeholder",e?"img":"",n),e&&(this.element.decoding="async",this.element.alt="",this.element.src=e,this.element.setAttribute("role","presentation")),this.element.setAttribute("aria-hidden","true")}return _createClass(i,[{key:"setDisplayedSize",value:function(t,i){this.element&&("IMG"===this.element.tagName?(e(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=function(t,e,i){var n="translate3d(0px,0px,0)";return void 0!==i&&(n+=" scale3d("+i+","+i+",1)"),n}(0,0,t/250)):e(this.element,t,i))}},{key:"destroy",value:function(){this.element.parentNode&&this.element.remove(),this.element=null}}]),i}(),c=function(){function o(t,e,n){_classCallCheck(this,o),this.instance=e,this.data=t,this.index=n,this.element=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.state=i,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}return _createClass(o,[{key:"removePlaceholder",value:function(){var t=this;this.placeholder&&!this.keepPlaceholder()&&setTimeout(function(){t.placeholder&&(t.placeholder.destroy(),t.placeholder=null)},1e3)}},{key:"load",value:function(e,i){if(this.slide&&this.usePlaceholder())if(this.placeholder){var n=this.placeholder.element;n&&!n.parentElement&&this.slide.container.prepend(n)}else{var s=this.instance.applyFilters("placeholderSrc",!(!this.data.msrc||!this.slide.isFirstSlide)&&this.data.msrc,this);this.placeholder=new l(s,this.slide.container)}this.element&&!i||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=t("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=t("pswp__content"),this.element.innerHTML=this.data.html||""),i&&this.slide&&this.slide.updateContentSize(!0))}},{key:"loadImage",value:function(t){var e=this,i=this.element;this.instance.dispatch("contentLoadImage",{content:this,isLazy:t}).defaultPrevented||(this.updateSrcsetSizes(),this.data.srcset&&(i.srcset=this.data.srcset),i.src=this.data.src,i.alt=this.data.alt||"",this.state=n,i.complete?this.onLoaded():(i.onload=function(){e.onLoaded()},i.onerror=function(){e.onError()}))}},{key:"setSlide",value:function(t){this.slide=t,this.hasSlide=!0,this.instance=t.pswp}},{key:"onLoaded",value:function(){this.state=s,this.slide&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),this.state!==s&&this.state!==a||this.removePlaceholder())}},{key:"onError",value:function(){this.state=a,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}},{key:"isLoading",value:function(){return this.instance.applyFilters("isContentLoading",this.state===n,this)}},{key:"isError",value:function(){return this.state===a}},{key:"isImageContent",value:function(){return"image"===this.type}},{key:"setDisplayedSize",value:function(t,i){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(t,i),!this.instance.dispatch("contentResize",{content:this,width:t,height:i}).defaultPrevented&&(e(this.element,t,i),this.isImageContent()&&!this.isError()))){var n=!this.displayedImageWidth&&t;this.displayedImageWidth=t,this.displayedImageHeight=i,n?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:t,height:i,content:this})}}},{key:"isZoomable",value:function(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==a,this)}},{key:"updateSrcsetSizes",value:function(){if(this.data.srcset){var t=this.element,e=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!t.dataset.largestUsedSize||e>parseInt(t.dataset.largestUsedSize,10))&&(t.sizes=e+"px",t.dataset.largestUsedSize=String(e))}}},{key:"usePlaceholder",value:function(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}},{key:"lazyLoad",value:function(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}},{key:"keepPlaceholder",value:function(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}},{key:"destroy",value:function(){this.hasSlide=!1,this.slide=null,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented||(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=null),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=null))}},{key:"displayError",value:function(){if(this.slide){var e=t("pswp__error-msg");e.innerText=this.instance.options.errorMsg,e=this.instance.applyFilters("contentErrorElement",e,this),this.element=t("pswp__content pswp__error-msg-container"),this.element.appendChild(e),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}},{key:"append",value:function(){var t=this;if(!this.isAttached)if(this.isAttached=!0,this.state!==a){if(!this.instance.dispatch("contentAppend",{content:this}).defaultPrevented){var e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||r())?(this.isDecoding=!0,this.element.decode().catch(function(){}).finally(function(){t.isDecoding=!1,t.appendImage()})):this.appendImage():this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}}else this.displayError()}},{key:"activate",value:function(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||this.slide&&(this.isImageContent()&&this.isDecoding&&!r()?this.appendImage():this.isError()&&this.load(!1,!0))}},{key:"deactivate",value:function(){this.instance.dispatch("contentDeactivate",{content:this})}},{key:"remove",value:function(){this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented||(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}},{key:"appendImage",value:function(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),this.state!==s&&this.state!==a||this.removePlaceholder()))}}]),o}();function d(t,e,i,n,s){var a;if(e.paddingFn)a=e.paddingFn(i,n,s)[t];else if(e.padding)a=e.padding[t];else{var o="padding"+t[0].toUpperCase()+t.slice(1);e[o]&&(a=e[o])}return a||0}var p=function(){function t(e,i,n,s){_classCallCheck(this,t),this.pswp=s,this.options=e,this.itemData=i,this.index=n}return _createClass(t,[{key:"update",value:function(t,e,i){this.elementSize={x:t,y:e},this.panAreaSize=i;var n=this.panAreaSize.x/this.elementSize.x,s=this.panAreaSize.y/this.elementSize.y;this.fit=Math.min(1,n<s?n:s),this.fill=Math.min(1,n>s?n:s),this.vFill=Math.min(1,s),this.initial=this.t(),this.secondary=this.i(),this.max=Math.max(this.initial,this.secondary,this.o()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}},{key:"l",value:function(t){var e=t+"ZoomLevel",i=this.options[e];if(i)return"function"==typeof i?i(this):"fill"===i?this.fill:"fit"===i?this.fit:Number(i)}},{key:"i",value:function(){var t=this.l("secondary");return t||((t=Math.min(1,3*this.fit))*this.elementSize.x>4e3&&(t=4e3/this.elementSize.x),t)}},{key:"t",value:function(){return this.l("initial")||this.fit}},{key:"o",value:function(){return this.l("max")||Math.max(1,4*this.fit)}}]),t}();function u(t,e,i){var n=e.createContentFromData(t,i);if(n&&n.lazyLoad){var s=e.options,a=function(t,e,i,n){return{x:e.x-d("left",t,e,i,n)-d("right",t,e,i,n),y:e.y-d("top",t,e,i,n)-d("bottom",t,e,i,n)}}(s,e.viewportSize||function(t,e){if(t.getViewportSizeFn){var i=t.getViewportSizeFn(t,e);if(i)return i}return{x:document.documentElement.clientWidth,y:window.innerHeight}}(s,e),t,i),o=new p(s,t,-1);return o.update(n.width,n.height,a),n.lazyLoad(),n.setDisplayedSize(Math.ceil(n.width*o.initial),Math.ceil(n.height*o.initial)),n}}return function(t){_inherits(i,t);var e=_createSuper(i);function i(t){var n;return _classCallCheck(this,i),(n=e.call(this)).options=t||{},n.v=0,n}return _createClass(i,[{key:"init",value:function(){var t=this;this.onThumbnailsClick=this.onThumbnailsClick.bind(this),o(this.options.gallery,this.options.gallerySelector).forEach(function(e){e.addEventListener("click",t.onThumbnailsClick,!1)})}},{key:"onThumbnailsClick",value:function(t){if(!function(t){if(2===t.which||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)return!0}(t)&&!window.pswp&&!1!==window.navigator.onLine){var e={x:t.clientX,y:t.clientY};e.x||e.y||(e=null);var i=this.getClickedIndex(t);i=this.applyFilters("clickedIndex",i,t,this);var n={gallery:t.currentTarget};i>=0&&(t.preventDefault(),this.loadAndOpen(i,n,e))}}},{key:"getClickedIndex",value:function(t){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,t);var e=t.target,i=o(this.options.children,this.options.childSelector,t.currentTarget).findIndex(function(t){return t===e||t.contains(e)});return-1!==i?i:this.options.children||this.options.childSelector?-1:0}},{key:"loadAndOpen",value:function(t,e,i){return!window.pswp&&(this.options.index=t,this.options.initialPointerPos=i,this.shouldOpen=!0,this.preload(t,e),!0)}},{key:"preload",value:function(t,e){var i=this,n=this.options;e&&(n.dataSource=e);var s,a=[],o=_typeof(n.pswpModule);if("function"==typeof(s=n.pswpModule)&&s.prototype&&s.prototype.goTo)a.push(Promise.resolve(n.pswpModule));else{if("string"===o)throw new Error("pswpModule as string is no longer supported");if("function"!==o)throw new Error("pswpModule is not valid");a.push(n.pswpModule())}"function"==typeof n.openPromise&&a.push(n.openPromise()),!1!==n.preloadFirstSlide&&t>=0&&(this._=function(t,e){var i=e.getItemData(t);if(!e.dispatch("lazyLoadSlide",{index:t,itemData:i}).defaultPrevented)return u(i,e,t)}(t,this));var r=++this.v;Promise.all(a).then(function(t){if(i.shouldOpen){var e=t[0];i.I(e,r)}})}},{key:"I",value:function(t,e){var i=this;if(!(e!==this.v&&this.shouldOpen||(this.shouldOpen=!1,window.pswp))){var n="object"==_typeof(t)?new t.default(this.options):new t(this.options);this.pswp=n,window.pswp=n,Object.keys(this.u).forEach(function(t){i.u[t].forEach(function(e){n.on(t,e)})}),Object.keys(this.p).forEach(function(t){i.p[t].forEach(function(e){n.addFilter(t,e.fn,e.priority)})}),this._&&(n.contentLoader.addToCache(this._),this._=null),n.on("destroy",function(){i.pswp=null,window.pswp=null}),n.init()}}},{key:"destroy",value:function(){var t=this;this.pswp&&this.pswp.destroy(),this.shouldOpen=!1,this.u=null,o(this.options.gallery,this.options.gallerySelector).forEach(function(e){e.removeEventListener("click",t.onThumbnailsClick,!1)})}}]),i}(function(t){_inherits(i,t);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"getNumItems",value:function(){var t,e=this.options.dataSource;e?"length"in e?t=e.length:"gallery"in e&&(e.items||(e.items=this.m(e.gallery)),e.items&&(t=e.items.length)):t=0;var i=this.dispatch("numItems",{dataSource:e,numItems:t});return this.applyFilters("numItems",i.numItems,e)}},{key:"createContentFromData",value:function(t,e){return new c(t,this,e)}},{key:"getItemData",value:function(t){var e,i=this.options.dataSource;Array.isArray(i)?e=i[t]:i&&i.gallery&&(i.items||(i.items=this.m(i.gallery)),e=i.items[t]);var n=e;n instanceof Element&&(n=this.g(n));var s=this.dispatch("itemData",{itemData:n||{},index:t});return this.applyFilters("itemData",s.itemData,t)}},{key:"m",value:function(t){return this.options.children||this.options.childSelector?o(this.options.children,this.options.childSelector,t)||[]:[t]}},{key:"g",value:function(t){var e={element:t},i="A"===t.tagName?t:t.querySelector("a");if(i){e.src=i.dataset.pswpSrc||i.href,i.dataset.pswpSrcset&&(e.srcset=i.dataset.pswpSrcset),e.width=parseInt(i.dataset.pswpWidth,10),e.height=parseInt(i.dataset.pswpHeight,10),e.w=e.width,e.h=e.height,i.dataset.pswpType&&(e.type=i.dataset.pswpType);var n=t.querySelector("img");n&&(e.msrc=n.currentSrc||n.src,e.alt=n.getAttribute("alt")),(i.dataset.pswpCropped||i.dataset.cropped)&&(e.thumbCropped=!0)}return this.applyFilters("domItemData",e,t,i)}},{key:"lazyLoadData",value:function(t,e){return u(t,this,e)}}]),i}(function(){function t(){_classCallCheck(this,t),this.u={},this.p={},this.pswp=void 0,this.options=void 0}return _createClass(t,[{key:"addFilter",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;this.p[t]||(this.p[t]=[]),this.p[t].push({fn:e,priority:i}),this.p[t].sort(function(t,e){return t.priority-e.priority}),this.pswp&&this.pswp.addFilter(t,e,i)}},{key:"removeFilter",value:function(t,e){this.p[t]&&(this.p[t]=this.p[t].filter(function(t){return t.fn!==e})),this.pswp&&this.pswp.removeFilter(t,e)}},{key:"applyFilters",value:function(t){for(var e=this,i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return this.p[t]&&this.p[t].forEach(function(t){n[0]=t.fn.apply(e,n)}),n[0]}},{key:"on",value:function(t,e){this.u[t]||(this.u[t]=[]),this.u[t].push(e),this.pswp&&this.pswp.on(t,e)}},{key:"off",value:function(t,e){this.u[t]&&(this.u[t]=this.u[t].filter(function(t){return e!==t})),this.pswp&&this.pswp.off(t,e)}},{key:"dispatch",value:function(t,e){var i=this;if(this.pswp)return this.pswp.dispatch(t,e);var n=new h(t,e);return this.u?(this.u[t]&&this.u[t].forEach(function(t){t.call(i,n)}),n):n}}]),t}()))});

},{}],7:[function(require,module,exports){
"use strict";function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,s)}return i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach(function(e){_defineProperty(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var i,s=_getPrototypeOf(t);if(e){var n=_getPrototypeOf(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).PhotoSwipe=e()}(void 0,function(){function t(t,e,i){var s=document.createElement(e||"div");return t&&(s.className=t),i&&i.appendChild(s),s}function e(t,e){return t.x=e.x,t.y=e.y,void 0!==e.id&&(t.id=e.id),t}function i(t){t.x=Math.round(t.x),t.y=Math.round(t.y)}function s(t,e){var i=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);return Math.sqrt(i*i+s*s)}function n(t,e){return t.x===e.x&&t.y===e.y}function o(t,e,i){return Math.min(Math.max(t,e),i)}function a(t,e,i){var s="translate3d("+t+"px,"+(e||0)+"px,0)";return void 0!==i&&(s+=" scale3d("+i+","+i+",1)"),s}function r(t,e,i,s){t.style.transform=a(e,i,s)}function h(t,e,i,s){t.style.transition=e?e+" "+i+"ms "+(s||"cubic-bezier(.4,0,.22,1)"):"none"}function l(t,e,i){t.style.width="number"==typeof e?e+"px":e,t.style.height="number"==typeof i?i+"px":i}var c="idle",p="loading",u="loaded",d="error";function m(){return!(!navigator.vendor||!navigator.vendor.match(/apple/i))}var v=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){v=!0}}))}catch(t){}var f=function(){function t(){_classCallCheck(this,t),this.t=[]}return _createClass(t,[{key:"add",value:function(t,e,i,s){this.i(t,e,i,s)}},{key:"remove",value:function(t,e,i,s){this.i(t,e,i,s,!0)}},{key:"removeAll",value:function(){var t=this;this.t.forEach(function(e){t.i(e.target,e.type,e.listener,e.passive,!0,!0)}),this.t=[]}},{key:"i",value:function(t,e,i,s,n,o){var a=this;if(t){var r=n?"removeEventListener":"addEventListener";e.split(" ").forEach(function(e){if(e){o||(n?a.t=a.t.filter(function(s){return s.type!==e||s.listener!==i||s.target!==t}):a.t.push({target:t,type:e,listener:i,passive:s}));var h=!!v&&{passive:s||!1};t[r](e,i,h)}})}}}]),t}();function y(t,e){if(t.getViewportSizeFn){var i=t.getViewportSizeFn(t,e);if(i)return i}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function g(t,e,i,s,n){var o;if(e.paddingFn)o=e.paddingFn(i,s,n)[t];else if(e.padding)o=e.padding[t];else{var a="padding"+t[0].toUpperCase()+t.slice(1);e[a]&&(o=e[a])}return o||0}function w(t,e,i,s){return{x:e.x-g("left",t,e,i,s)-g("right",t,e,i,s),y:e.y-g("top",t,e,i,s)-g("bottom",t,e,i,s)}}var k=function(){function t(e){_classCallCheck(this,t),this.slide=e,this.currZoomLevel=1,this.center={},this.max={},this.min={},this.reset()}return _createClass(t,[{key:"update",value:function(t){this.currZoomLevel=t,this.slide.width?(this.o("x"),this.o("y"),this.slide.pswp.dispatch("calcBounds",{slide:this.slide})):this.reset()}},{key:"o",value:function(t){var e=this.slide.pswp,i=this.slide["x"===t?"width":"height"]*this.currZoomLevel,s=g("x"===t?"left":"top",e.options,e.viewportSize,this.slide.data,this.slide.index),n=this.slide.panAreaSize[t];this.center[t]=Math.round((n-i)/2)+s,this.max[t]=i>n?Math.round(n-i)+s:this.center[t],this.min[t]=i>n?s:this.center[t]}},{key:"reset",value:function(){this.center.x=0,this.center.y=0,this.max.x=0,this.max.y=0,this.min.x=0,this.min.y=0}},{key:"correctPan",value:function(t,e){return o(e,this.max[t],this.min[t])}}]),t}(),x=function(){function t(e,i,s,n){_classCallCheck(this,t),this.pswp=n,this.options=e,this.itemData=i,this.index=s}return _createClass(t,[{key:"update",value:function(t,e,i){this.elementSize={x:t,y:e},this.panAreaSize=i;var s=this.panAreaSize.x/this.elementSize.x,n=this.panAreaSize.y/this.elementSize.y;this.fit=Math.min(1,s<n?s:n),this.fill=Math.min(1,s>n?s:n),this.vFill=Math.min(1,n),this.initial=this.l(),this.secondary=this.p(),this.max=Math.max(this.initial,this.secondary,this.u()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}},{key:"m",value:function(t){var e=t+"ZoomLevel",i=this.options[e];if(i)return"function"==typeof i?i(this):"fill"===i?this.fill:"fit"===i?this.fit:Number(i)}},{key:"p",value:function(){var t=this.m("secondary");return t||((t=Math.min(1,3*this.fit))*this.elementSize.x>4e3&&(t=4e3/this.elementSize.x),t)}},{key:"l",value:function(){return this.m("initial")||this.fit}},{key:"u",value:function(){return this.m("max")||Math.max(1,4*this.fit)}}]),t}(),S=function(){function s(e,i,n){_classCallCheck(this,s),this.data=e,this.index=i,this.pswp=n,this.isActive=i===n.currIndex,this.currentResolution=0,this.panAreaSize={},this.isFirstSlide=this.isActive&&!n.opener.isOpen,this.zoomLevels=new x(n.options,e,i,n),this.pswp.dispatch("gettingData",{slide:this,data:this.data,index:i}),this.pan={x:0,y:0},this.content=this.pswp.contentLoader.getContentBySlide(this),this.container=t("pswp__zoom-wrap"),this.currZoomLevel=1,this.width=this.content.width,this.height=this.content.height,this.bounds=new k(this),this.prevDisplayedWidth=-1,this.prevDisplayedHeight=-1,this.pswp.dispatch("slideInit",{slide:this})}return _createClass(s,[{key:"setIsActive",value:function(t){t&&!this.isActive?this.activate():!t&&this.isActive&&this.deactivate()}},{key:"append",value:function(t){this.holderElement=t,this.container.style.transformOrigin="0 0",this.data&&(this.calculateSize(),this.load(),this.updateContentSize(),this.appendHeavy(),this.holderElement.appendChild(this.container),this.zoomAndPanToInitial(),this.pswp.dispatch("firstZoomPan",{slide:this}),this.applyCurrentZoomPan(),this.pswp.dispatch("afterSetContent",{slide:this}),this.isActive&&this.activate())}},{key:"load",value:function(){this.content.load(),this.pswp.dispatch("slideLoad",{slide:this})}},{key:"appendHeavy",value:function(){var t=this.pswp;!this.heavyAppended&&t.opener.isOpen&&!t.mainScroll.isShifted()&&(this.isActive,1)&&(this.pswp.dispatch("appendHeavy",{slide:this}).defaultPrevented||(this.heavyAppended=!0,this.content.append(),this.pswp.dispatch("appendHeavyContent",{slide:this})))}},{key:"activate",value:function(){this.isActive=!0,this.appendHeavy(),this.content.activate(),this.pswp.dispatch("slideActivate",{slide:this})}},{key:"deactivate",value:function(){this.isActive=!1,this.content.deactivate(),this.currZoomLevel!==this.zoomLevels.initial&&this.calculateSize(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize(),this.pswp.dispatch("slideDeactivate",{slide:this})}},{key:"destroy",value:function(){this.content.hasSlide=!1,this.content.remove(),this.container.remove(),this.pswp.dispatch("slideDestroy",{slide:this})}},{key:"resize",value:function(){this.currZoomLevel!==this.zoomLevels.initial&&this.isActive?(this.calculateSize(),this.bounds.update(this.currZoomLevel),this.panTo(this.pan.x,this.pan.y)):(this.calculateSize(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize())}},{key:"updateContentSize",value:function(t){var e=this.currentResolution||this.zoomLevels.initial;if(e){var i=Math.round(this.width*e)||this.pswp.viewportSize.x,s=Math.round(this.height*e)||this.pswp.viewportSize.y;(this.sizeChanged(i,s)||t)&&this.content.setDisplayedSize(i,s)}}},{key:"sizeChanged",value:function(t,e){return(t!==this.prevDisplayedWidth||e!==this.prevDisplayedHeight)&&(this.prevDisplayedWidth=t,this.prevDisplayedHeight=e,!0)}},{key:"getPlaceholderElement",value:function(){if(this.content.placeholder)return this.content.placeholder.element}},{key:"zoomTo",value:function(t,e,s,n){var a=this,r=this.pswp;if(this.isZoomable()&&!r.mainScroll.isShifted()){r.dispatch("beforeZoomTo",{destZoomLevel:t,centerPoint:e,transitionDuration:s}),r.animations.stopAllPan();var h=this.currZoomLevel;n||(t=o(t,this.zoomLevels.min,this.zoomLevels.max)),this.setZoomLevel(t),this.pan.x=this.calculateZoomToPanOffset("x",e,h),this.pan.y=this.calculateZoomToPanOffset("y",e,h),i(this.pan);var l=function(){a.g(t),a.applyCurrentZoomPan()};s?r.animations.startTransition({isPan:!0,name:"zoomTo",target:this.container,transform:this.getCurrentTransform(),onComplete:l,duration:s,easing:r.options.easing}):l()}}},{key:"toggleZoom",value:function(t){this.zoomTo(this.currZoomLevel===this.zoomLevels.initial?this.zoomLevels.secondary:this.zoomLevels.initial,t,this.pswp.options.zoomAnimationDuration)}},{key:"setZoomLevel",value:function(t){this.currZoomLevel=t,this.bounds.update(this.currZoomLevel)}},{key:"calculateZoomToPanOffset",value:function(t,e,i){if(0==this.bounds.max[t]-this.bounds.min[t])return this.bounds.center[t];e||(e=this.pswp.getViewportCenterPoint());var s=this.currZoomLevel/i;return this.bounds.correctPan(t,(this.pan[t]-e[t])*s+e[t])}},{key:"panTo",value:function(t,e){this.pan.x=this.bounds.correctPan("x",t),this.pan.y=this.bounds.correctPan("y",e),this.applyCurrentZoomPan()}},{key:"isPannable",value:function(){return this.width&&this.currZoomLevel>this.zoomLevels.fit}},{key:"isZoomable",value:function(){return this.width&&this.content.isZoomable()}},{key:"applyCurrentZoomPan",value:function(){this._(this.pan.x,this.pan.y,this.currZoomLevel),this===this.pswp.currSlide&&this.pswp.dispatch("zoomPanUpdate",{slide:this})}},{key:"zoomAndPanToInitial",value:function(){this.currZoomLevel=this.zoomLevels.initial,this.bounds.update(this.currZoomLevel),e(this.pan,this.bounds.center),this.pswp.dispatch("initialZoomPan",{slide:this})}},{key:"_",value:function(t,e,i){i/=this.currentResolution||this.zoomLevels.initial,r(this.container,t,e,i)}},{key:"calculateSize",value:function(){var t=this.pswp;e(this.panAreaSize,w(t.options,t.viewportSize,this.data,this.index)),this.zoomLevels.update(this.width,this.height,this.panAreaSize),t.dispatch("calcSlideSize",{slide:this})}},{key:"getCurrentTransform",value:function(){var t=this.currZoomLevel/(this.currentResolution||this.zoomLevels.initial);return a(this.pan.x,this.pan.y,t)}},{key:"g",value:function(t){t!==this.currentResolution&&(this.currentResolution=t,this.updateContentSize(),this.pswp.dispatch("resolutionChanged"))}}]),s}(),C=function(){function t(e){_classCallCheck(this,t),this.gestures=e,this.pswp=e.pswp,this.startPan={}}return _createClass(t,[{key:"start",value:function(){e(this.startPan,this.pswp.currSlide.pan),this.pswp.animations.stopAll()}},{key:"change",value:function(){var t=this.gestures,e=t.p1,s=t.prevP1,n=t.dragAxis,o=t.pswp,a=o.currSlide;if("y"===n&&o.options.closeOnVerticalDrag&&a.currZoomLevel<=a.zoomLevels.fit&&!this.gestures.isMultitouch){var r=a.pan.y+(e.y-s.y);if(!o.dispatch("verticalDrag",{panY:r}).defaultPrevented){this.v("y",r,.6);var h=1-Math.abs(this.S(a.pan.y));o.applyBgOpacity(h),a.applyCurrentZoomPan()}}else this.M("x")||(this.M("y"),i(a.pan),a.applyCurrentZoomPan())}},{key:"end",value:function(){var t=this.gestures,e=t.pswp,i=t.velocity,s=e.mainScroll,n=0;if(e.animations.stopAll(),s.isShifted()){var o=(s.x-s.getCurrSlideX())/e.viewportSize.x;i.x<-.5&&o<0||i.x<.1&&o<-.5?(n=1,i.x=Math.min(i.x,0)):(i.x>.5&&o>0||i.x>-.1&&o>.5)&&(n=-1,i.x=Math.max(i.x,0)),s.moveIndexBy(n,!0,i.x)}e.currSlide.currZoomLevel>e.currSlide.zoomLevels.max||this.gestures.isMultitouch?this.gestures.zoomLevels.correctZoomPan(!0):(this.P("x"),this.P("y"))}},{key:"P",value:function(t){var e=this.pswp,i=e.currSlide,s=this.gestures.velocity,n=i.pan,a=i.bounds,r=n[t],h=e.bgOpacity<1&&"y"===t,l=r+function(t,e){return.995*t/(1-.995)}(s[t]);if(h){var c=this.S(r),p=this.S(l);if(c<0&&p<-.4||c>0&&p>.4)return void e.close()}var u=a.correctPan(t,l);if(r!==u){var d=u===l?1:.82,m=e.bgOpacity,v=u-r;e.animations.startSpring({name:"panGesture"+t,isPan:!0,start:r,end:u,velocity:s[t],dampingRatio:d,onUpdate:function(s){if(h&&e.bgOpacity<1){var a=1-(u-s)/v;e.applyBgOpacity(o(m+(1-m)*a,0,1))}n[t]=Math.floor(s),i.applyCurrentZoomPan()}})}}},{key:"M",value:function(t){var e=this.gestures,i=e.p1,s=e.pswp,n=e.dragAxis,o=e.prevP1,a=e.isMultitouch,r=s.currSlide,h=s.mainScroll,l=i[t]-o[t],c=h.x+l;if(l){if("x"===t&&!r.isPannable()&&!a)return h.moveTo(c,!0),!0;var p=r.bounds,u=r.pan[t]+l;if(s.options.allowPanToNext&&"x"===n&&"x"===t&&!a){var d=h.getCurrSlideX(),m=h.x-d,v=l>0,f=!v;if(u>p.min[t]&&v){if(p.min[t]<=this.startPan[t])return h.moveTo(c,!0),!0;this.v(t,u)}else if(u<p.max[t]&&f){if(this.startPan[t]<=p.max[t])return h.moveTo(c,!0),!0;this.v(t,u)}else if(0!==m){if(m>0)return h.moveTo(Math.max(c,d),!0),!0;if(m<0)return h.moveTo(Math.min(c,d),!0),!0}else this.v(t,u)}else"y"===t&&(h.isShifted()||p.min.y===p.max.y)||this.v(t,u)}}},{key:"S",value:function(t){return(t-this.pswp.currSlide.bounds.center.y)/(this.pswp.viewportSize.y/3)}},{key:"v",value:function(t,e,i){var s=this.pswp.currSlide,n=s.pan;if(s.bounds.correctPan(t,e)!==e||i){var o=Math.round(e-n[t]);n[t]+=o*(i||.35)}else n[t]=e}}]),t}();function b(t,e,i){return t.x=(e.x+i.x)/2,t.y=(e.y+i.y)/2,t}var P=function(){function t(e){_classCallCheck(this,t),this.gestures=e,this.pswp=this.gestures.pswp,this.C={},this.T={},this.D={}}return _createClass(t,[{key:"start",value:function(){this.I=this.pswp.currSlide.currZoomLevel,e(this.C,this.pswp.currSlide.pan),this.pswp.animations.stopAllPan(),this.A=!1}},{key:"change",value:function(){var t=this.gestures,e=t.p1,i=t.startP1,n=t.p2,o=t.startP2,a=t.pswp,r=a.currSlide,h=r.zoomLevels.min,l=r.zoomLevels.max;if(r.isZoomable()&&!a.mainScroll.isShifted()){b(this.T,i,o),b(this.D,e,n);var c=1/s(i,o)*s(e,n)*this.I;if(c>r.zoomLevels.initial+r.zoomLevels.initial/15&&(this.A=!0),c<h)if(a.options.pinchToClose&&!this.A&&this.I<=r.zoomLevels.initial){var p=1-(h-c)/(h/1.2);a.dispatch("pinchClose",{bgOpacity:p}).defaultPrevented||a.applyBgOpacity(p)}else c=h-.15*(h-c);else c>l&&(c=l+.05*(c-l));r.pan.x=this.L("x",c),r.pan.y=this.L("y",c),r.setZoomLevel(c),r.applyCurrentZoomPan()}}},{key:"end",value:function(){var t=this.pswp,e=t.currSlide;e.currZoomLevel<e.zoomLevels.initial&&!this.A&&t.options.pinchToClose?t.close():this.correctZoomPan()}},{key:"L",value:function(t,e){var i=e/this.I;return this.D[t]-(this.T[t]-this.C[t])*i}},{key:"correctZoomPan",value:function(t){var i=this.pswp,s=i.currSlide;if(s.isZoomable()){void 0===this.D.x&&(t=!0);var a,r=s.currZoomLevel,h=!0;r<s.zoomLevels.initial?a=s.zoomLevels.initial:r>s.zoomLevels.max?a=s.zoomLevels.max:(h=!1,a=r);var l=i.bgOpacity,c=i.bgOpacity<1,p=e({},s.pan),u=e({},p);t&&(this.D.x=0,this.D.y=0,this.T.x=0,this.T.y=0,this.I=r,e(this.C,p)),h&&(u={x:this.L("x",a),y:this.L("y",a)}),s.setZoomLevel(a),u={x:s.bounds.correctPan("x",u.x),y:s.bounds.correctPan("y",u.y)},s.setZoomLevel(r);var d=!0;if(n(u,p)&&(d=!1),!d&&!h&&!c)return s.g(a),void s.applyCurrentZoomPan();i.animations.stopAllPan(),i.animations.startSpring({isPan:!0,start:0,end:1e3,velocity:0,dampingRatio:1,naturalFrequency:40,onUpdate:function(t){if(t/=1e3,d||h){if(d&&(s.pan.x=p.x+(u.x-p.x)*t,s.pan.y=p.y+(u.y-p.y)*t),h){var e=r+(a-r)*t;s.setZoomLevel(e)}s.applyCurrentZoomPan()}c&&i.bgOpacity<1&&i.applyBgOpacity(o(l+(1-l)*t,0,1))},onComplete:function(){s.g(a),s.applyCurrentZoomPan()}})}}}]),t}();function z(t){return!!t.target.closest(".pswp__container")}var _=function(){function t(e){_classCallCheck(this,t),this.gestures=e}return _createClass(t,[{key:"click",value:function(t,e){var i=e.target.classList,s=i.contains("pswp__img"),n=i.contains("pswp__item")||i.contains("pswp__zoom-wrap");s?this.k("imageClick",t,e):n&&this.k("bgClick",t,e)}},{key:"tap",value:function(t,e){z(e)&&this.k("tap",t,e)}},{key:"doubleTap",value:function(t,e){z(e)&&this.k("doubleTap",t,e)}},{key:"k",value:function(t,e,i){var s=this.gestures.pswp,n=s.currSlide,o=t+"Action",a=s.options[o];if(!s.dispatch(o,{point:e,originalEvent:i}).defaultPrevented)if("function"!=typeof a)switch(a){case"close":case"next":s[a]();break;case"zoom":n.toggleZoom(e);break;case"zoom-or-close":n.isZoomable()&&n.zoomLevels.secondary!==n.zoomLevels.initial?n.toggleZoom(e):s.options.clickToCloseNonZoomable&&s.close();break;case"toggle-controls":this.gestures.pswp.element.classList.toggle("pswp--ui-visible")}else a.call(s,e,i)}}]),t}(),I=function(){function t(e){var i=this;_classCallCheck(this,t),this.pswp=e,this.dragAxis=void 0,this.p1={},this.p2={},this.prevP1={},this.prevP2={},this.startP1={},this.startP2={},this.velocity={},this.Z={},this.F={},this.O=0,this.B=[],this.R="ontouchstart"in window,this.N=!!window.PointerEvent,this.supportsTouch=this.R||this.N&&navigator.maxTouchPoints>1,this.supportsTouch||(e.options.allowPanToNext=!1),this.drag=new C(this),this.zoomLevels=new P(this),this.tapHandler=new _(this),e.on("bindEvents",function(){e.events.add(e.scrollWrap,"click",function(t){return i.V(t)}),i.N?i.G("pointer","down","up","cancel"):i.R?(i.G("touch","start","end","cancel"),e.scrollWrap.ontouchmove=function(){},e.scrollWrap.ontouchend=function(){}):i.G("mouse","down","up")})}return _createClass(t,[{key:"G",value:function(t,e,i,s){var n=this.pswp,o=n.events,a=s?t+s:"";o.add(n.scrollWrap,t+e,this.onPointerDown.bind(this)),o.add(window,t+"move",this.onPointerMove.bind(this)),o.add(window,t+i,this.onPointerUp.bind(this)),a&&o.add(n.scrollWrap,a,this.onPointerUp.bind(this))}},{key:"onPointerDown",value:function(t){var i;if("mousedown"!==t.type&&"mouse"!==t.pointerType||(i=!0),!(i&&t.button>0)){var s=this.pswp;s.opener.isOpen?s.dispatch("pointerDown",{originalEvent:t}).defaultPrevented||(i&&(s.mouseDetected(),this.U(t)),s.animations.stopAll(),this.q(t,"down"),this.pointerDown=!0,1===this.O&&(this.dragAxis=null,e(this.startP1,this.p1)),this.O>1?(this.H(),this.isMultitouch=!0):this.isMultitouch=!1):t.preventDefault()}}},{key:"onPointerMove",value:function(t){t.preventDefault(),this.O&&(this.q(t,"move"),this.pswp.dispatch("pointerMove",{originalEvent:t}).defaultPrevented||(1!==this.O||this.isDragging?this.O>1&&!this.isZooming&&(this.K(),this.isZooming=!0,this.W(),this.zoomLevels.start(),this.j(),this.X()):(this.dragAxis||this.Y(),this.dragAxis&&!this.isDragging&&(this.isZooming&&(this.isZooming=!1,this.zoomLevels.end()),this.isDragging=!0,this.H(),this.W(),this.$=Date.now(),this.J=!1,e(this.F,this.p1),this.velocity.x=0,this.velocity.y=0,this.drag.start(),this.j(),this.X()))))}},{key:"K",value:function(){this.isDragging&&(this.isDragging=!1,this.J||this.tt(!0),this.drag.end(),this.dragAxis=null)}},{key:"onPointerUp",value:function(t){this.O&&(this.q(t,"up"),this.pswp.dispatch("pointerUp",{originalEvent:t}).defaultPrevented||(0===this.O&&(this.pointerDown=!1,this.j(),this.isDragging?this.K():this.isZooming||this.isMultitouch||this.it(t)),this.O<2&&this.isZooming&&(this.isZooming=!1,this.zoomLevels.end(),1===this.O&&(this.dragAxis=null,this.W()))))}},{key:"X",value:function(){(this.isDragging||this.isZooming)&&(this.tt(),this.isDragging?n(this.p1,this.prevP1)||this.drag.change():n(this.p1,this.prevP1)&&n(this.p2,this.prevP2)||this.zoomLevels.change(),this.st(),this.raf=requestAnimationFrame(this.X.bind(this)))}},{key:"tt",value:function(t){var i=Date.now(),s=i-this.$;s<50&&!t||(this.velocity.x=this.ht("x",s),this.velocity.y=this.ht("y",s),this.$=i,e(this.F,this.p1),this.J=!0)}},{key:"it",value:function(t){var i=this,n=this.pswp.mainScroll;if(n.isShifted())n.moveIndexBy(0,!0);else if(!(t.type.indexOf("cancel")>0))if("mouseup"!==t.type&&"mouse"!==t.pointerType){var o=this.pswp.options.doubleTapAction?300:0;this.et?(this.H(),s(this.Z,this.startP1)<25&&this.tapHandler.doubleTap(this.startP1,t)):(e(this.Z,this.startP1),this.et=setTimeout(function(){i.tapHandler.tap(i.startP1,t),i.H()},o))}else this.tapHandler.click(this.startP1,t)}},{key:"H",value:function(){this.et&&(clearTimeout(this.et),this.et=null)}},{key:"ht",value:function(t,e){var i=this.p1[t]-this.F[t];return Math.abs(i)>1&&e>5?i/e:0}},{key:"j",value:function(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=null)}},{key:"U",value:function(t){return t.preventDefault(),!0}},{key:"q",value:function(t,i){if(this.N){var s=t,n=this.B.findIndex(function(t){return t.id===s.pointerId});"up"===i&&n>-1?this.B.splice(n,1):"down"===i&&-1===n?this.B.push(this.nt(s,{})):n>-1&&this.nt(s,this.B[n]),this.O=this.B.length,this.O>0&&e(this.p1,this.B[0]),this.O>1&&e(this.p2,this.B[1])}else{var o=t;this.O=0,o.type.indexOf("touch")>-1?o.touches&&o.touches.length>0&&(this.nt(o.touches[0],this.p1),this.O++,o.touches.length>1&&(this.nt(o.touches[1],this.p2),this.O++)):(this.nt(t,this.p1),"up"===i?this.O=0:this.O++)}}},{key:"st",value:function(){e(this.prevP1,this.p1),e(this.prevP2,this.p2)}},{key:"W",value:function(){e(this.startP1,this.p1),e(this.startP2,this.p2),this.st()}},{key:"Y",value:function(){if(this.pswp.mainScroll.isShifted())this.dragAxis="x";else{var t=Math.abs(this.p1.x-this.startP1.x)-Math.abs(this.p1.y-this.startP1.y);if(0!==t){var e=t>0?"x":"y";Math.abs(this.p1[e]-this.startP1[e])>=10&&(this.dragAxis=e)}}}},{key:"nt",value:function(t,e){return e.x=t.pageX-this.pswp.offset.x,e.y=t.pageY-this.pswp.offset.y,"pointerId"in t?e.id=t.pointerId:void 0!==t.identifier&&(e.id=t.identifier),e}},{key:"V",value:function(t){this.pswp.mainScroll.isShifted()&&(t.preventDefault(),t.stopPropagation())}}]),t}(),L=function(){function e(t){_classCallCheck(this,e),this.pswp=t,this.x=0,this.slideWidth=void 0,this.itemHolders=void 0,this.resetPosition()}return _createClass(e,[{key:"resize",value:function(t){var e=this,i=this.pswp,s=Math.round(i.viewportSize.x+i.viewportSize.x*i.options.spacing),n=s!==this.slideWidth;n&&(this.slideWidth=s,this.moveTo(this.getCurrSlideX())),this.itemHolders.forEach(function(i,s){n&&r(i.el,(s+e.ot)*e.slideWidth),t&&i.slide&&i.slide.resize()})}},{key:"resetPosition",value:function(){this.rt=0,this.ct=0,this.slideWidth=0,this.ot=-1}},{key:"appendHolders",value:function(){this.itemHolders=[];for(var e=0;e<3;e++){var i=t("pswp__item",!1,this.pswp.container);i.style.display=1===e?"block":"none",this.itemHolders.push({el:i})}}},{key:"canBeSwiped",value:function(){return this.pswp.getNumItems()>1}},{key:"moveIndexBy",value:function(t,e,i){var s=this,n=this.pswp,o=n.potentialIndex+t,a=n.getNumItems();if(n.canLoop()){o=n.getLoopedIndex(o);var r=(t+a)%a;t=r<=a/2?r:r-a}else o<0?o=0:o>=a&&(o=a-1),t=o-n.potentialIndex;n.potentialIndex=o,this.rt-=t,n.animations.stopMainScroll();var h=this.getCurrSlideX();if(e){n.animations.startSpring({isMainScroll:!0,start:this.x,end:h,velocity:i||0,naturalFrequency:30,dampingRatio:1,onUpdate:function(t){s.moveTo(t)},onComplete:function(){s.updateCurrItem(),n.appendHeavy()}});var l=n.potentialIndex-n.currIndex;if(n.canLoop()){var c=(l+a)%a;l=c<=a/2?c:c-a}Math.abs(l)>1&&this.updateCurrItem()}else this.moveTo(h),this.updateCurrItem();if(t)return!0}},{key:"getCurrSlideX",value:function(){return this.slideWidth*this.rt}},{key:"isShifted",value:function(){return this.x!==this.getCurrSlideX()}},{key:"updateCurrItem",value:function(){var t=this.pswp,e=this.ct-this.rt;if(e){this.ct=this.rt,t.currIndex=t.potentialIndex;var i,s=Math.abs(e);s>=3&&(this.ot+=e+(e>0?-3:3),s=3);for(var n=0;n<s;n++)e>0?(i=this.itemHolders.shift(),this.itemHolders[2]=i,this.ot++,r(i.el,(this.ot+2)*this.slideWidth),t.setContent(i,t.currIndex-s+n+2)):(i=this.itemHolders.pop(),this.itemHolders.unshift(i),this.ot--,r(i.el,this.ot*this.slideWidth),t.setContent(i,t.currIndex+s-n-2));Math.abs(this.ot)>50&&!this.isShifted()&&(this.resetPosition(),this.resize()),t.animations.stopAllPan(),this.itemHolders.forEach(function(t,e){t.slide&&t.slide.setIsActive(1===e)}),t.currSlide=this.itemHolders[1].slide,t.contentLoader.updateLazy(e),t.currSlide&&t.currSlide.applyCurrentZoomPan(),t.dispatch("change")}}},{key:"moveTo",value:function(t,e){var i,s;!this.pswp.canLoop()&&e&&(i=(this.slideWidth*this.rt-t)/this.slideWidth,i+=this.pswp.currIndex,s=Math.round(t-this.x),(i<0&&s>0||i>=this.pswp.getNumItems()-1&&s<0)&&(t=this.x+.35*s)),this.x=t,r(this.pswp.container,t),this.pswp.dispatch("moveMainScroll",{x:t,dragging:e})}}]),e}(),O=function(){function t(e){var i=this;_classCallCheck(this,t),this.pswp=e,e.on("bindEvents",function(){e.options.initialPointerPos||i.lt(),e.events.add(document,"focusin",i.ut.bind(i)),e.events.add(document,"keydown",i.dt.bind(i))});var s=document.activeElement;e.on("destroy",function(){e.options.returnFocus&&s&&i.ft&&s.focus()})}return _createClass(t,[{key:"lt",value:function(){this.ft||(this.pswp.element.focus(),this.ft=!0)}},{key:"dt",value:function(t){var e=this.pswp;if(!e.dispatch("keydown",{originalEvent:t}).defaultPrevented&&!function(t){if(2===t.which||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)return!0}(t)){var i,s,n;switch(t.keyCode){case 27:e.options.escKey&&(i="close");break;case 90:i="toggleZoom";break;case 37:s="x";break;case 38:s="y";break;case 39:s="x",n=!0;break;case 40:n=!0,s="y";break;case 9:this.lt()}if(s){t.preventDefault();var o=e.currSlide;e.options.arrowKeys&&"x"===s&&e.getNumItems()>1?i=n?"next":"prev":o&&o.currZoomLevel>o.zoomLevels.fit&&(o.pan[s]+=n?-80:80,o.panTo(o.pan.x,o.pan.y))}i&&(t.preventDefault(),e[i]())}}},{key:"ut",value:function(t){var e=this.pswp.template;document===t.target||e===t.target||e.contains(t.target)||e.focus()}}]),t}(),A=function(){function t(e){var i=this;_classCallCheck(this,t),this.props=e;var s=e.target,n=e.onComplete,o=e.transform,a=e.onFinish,r=e.duration,l=e.easing;this.onFinish=a;var c=o?"transform":"opacity",p=e[c];this.wt=s,this.gt=n,r=r||333,l=l||"cubic-bezier(.4,0,.22,1)",this._t=this._t.bind(this),this.vt=setTimeout(function(){h(s,c,r,l),i.vt=setTimeout(function(){s.addEventListener("transitionend",i._t,!1),s.addEventListener("transitioncancel",i._t,!1),i.vt=setTimeout(function(){i.yt()},r+500),s.style[c]=p},30)},0)}return _createClass(t,[{key:"_t",value:function(t){t.target===this.wt&&this.yt()}},{key:"yt",value:function(){this.bt||(this.bt=!0,this.onFinish(),this.gt&&this.gt())}},{key:"destroy",value:function(){this.vt&&clearTimeout(this.vt),h(this.wt),this.wt.removeEventListener("transitionend",this._t,!1),this.wt.removeEventListener("transitioncancel",this._t,!1),this.bt||this.yt()}}]),t}(),T=function(){function t(e,i,s){_classCallCheck(this,t),this.velocity=1e3*e,this.St=i||.75,this.xt=s||12,this.St<1&&(this.Mt=this.xt*Math.sqrt(1-this.St*this.St))}return _createClass(t,[{key:"easeFrame",value:function(t,e){var i,s=0;e/=1e3;var n=Math.pow(Math.E,-this.St*this.xt*e);if(1===this.St)s=(t+(i=this.velocity+this.xt*t)*e)*n,this.velocity=s*-this.xt+i*n;else if(this.St<1){i=1/this.Mt*(this.St*this.xt*t+this.velocity);var o=Math.cos(this.Mt*e),a=Math.sin(this.Mt*e);s=n*(t*o+i*a),this.velocity=s*-this.xt*this.St+n*(-this.Mt*t*a+this.Mt*i*o)}return s}}]),t}(),D=function(){function t(e){var i=this;_classCallCheck(this,t),this.props=e;var s=e.start,n=e.end,o=e.velocity,a=e.onUpdate,r=e.onComplete,h=e.onFinish,l=e.dampingRatio,c=e.naturalFrequency;this.onFinish=h;var p=new T(o,l,c),u=Date.now(),d=s-n;this.zt=requestAnimationFrame(function t(){i.zt&&(d=p.easeFrame(d,Date.now()-u),Math.abs(d)<1&&Math.abs(p.velocity)<50?(a(n),r&&r(),i.onFinish()):(u=Date.now(),a(d+n),i.zt=requestAnimationFrame(t)))})}return _createClass(t,[{key:"destroy",value:function(){this.zt>=0&&cancelAnimationFrame(this.zt),this.zt=null}}]),t}(),Z=function(){function t(){_classCallCheck(this,t),this.activeAnimations=[]}return _createClass(t,[{key:"startSpring",value:function(t){this.Pt(t,!0)}},{key:"startTransition",value:function(t){this.Pt(t)}},{key:"Pt",value:function(t,e){var i,s=this;return i=e?new D(t):new A(t),this.activeAnimations.push(i),i.onFinish=function(){return s.stop(i)},i}},{key:"stop",value:function(t){t.destroy();var e=this.activeAnimations.indexOf(t);e>-1&&this.activeAnimations.splice(e,1)}},{key:"stopAll",value:function(){this.activeAnimations.forEach(function(t){t.destroy()}),this.activeAnimations=[]}},{key:"stopAllPan",value:function(){this.activeAnimations=this.activeAnimations.filter(function(t){return!t.props.isPan||(t.destroy(),!1)})}},{key:"stopMainScroll",value:function(){this.activeAnimations=this.activeAnimations.filter(function(t){return!t.props.isMainScroll||(t.destroy(),!1)})}},{key:"isPanRunning",value:function(){return this.activeAnimations.some(function(t){return t.props.isPan})}}]),t}(),M=function(){function t(e){_classCallCheck(this,t),this.pswp=e,e.events.add(e.element,"wheel",this.Ct.bind(this))}return _createClass(t,[{key:"Ct",value:function(t){t.preventDefault();var e=this.pswp.currSlide,i=t.deltaX,s=t.deltaY;if(e&&!this.pswp.dispatch("wheel",{originalEvent:t}).defaultPrevented)if(t.ctrlKey||this.pswp.options.wheelToZoom){if(e.isZoomable()){var n=-s;1===t.deltaMode?n*=.05:n*=t.deltaMode?1:.002,n=Math.pow(2,n);var o=e.currZoomLevel*n;e.zoomTo(o,{x:t.clientX,y:t.clientY})}}else e.isPannable()&&(1===t.deltaMode&&(i*=18,s*=18),e.panTo(e.pan.x-i,e.pan.y-s))}}]),t}(),E=_createClass(function e(i,s){_classCallCheck(this,e);var n=s.name||s.className,o=s.html;if(!1!==i.options[n]){"string"==typeof i.options[n+"SVG"]&&(o=i.options[n+"SVG"]),i.dispatch("uiElementCreate",{data:s});var a,r="";s.isButton?(r+="pswp__button ",r+=s.className||"pswp__button--".concat(s.name)):r+=s.className||"pswp__".concat(s.name);var h=s.isButton?s.tagName||"button":s.tagName||"div";if(h=h.toLowerCase(),a=t(r,h),s.isButton){a=t(r,h),"button"===h&&(a.type="button");var l=s.title,c=s.ariaLabel;"string"==typeof i.options[n+"Title"]&&(l=i.options[n+"Title"]),l&&(a.title=l),(c||l)&&a.setAttribute("aria-label",c||l)}a.innerHTML=function(t){if("string"==typeof t)return t;if(!t||!t.isCustomSVG)return"";var e=t,i='<svg aria-hidden="true" class="pswp__icn" viewBox="0 0 %d %d" width="%d" height="%d">';return i=i.split("%d").join(e.size||32),e.outlineID&&(i+='<use class="pswp__icn-shadow" xlink:href="#'+e.outlineID+'"/>'),i+=e.inner,i+="</svg>"}(o),s.onInit&&s.onInit(a,i),s.onClick&&(a.onclick=function(t){"string"==typeof s.onClick?i[s.onClick]():s.onClick(t,a,i)});var p,u=s.appendTo||"bar";"bar"===u?(i.topBar||(i.topBar=t("pswp__top-bar pswp__hide-on-close","div",i.scrollWrap)),p=i.topBar):(a.classList.add("pswp__hide-on-close"),p="wrapper"===u?i.scrollWrap:i.element),p.appendChild(i.applyFilters("uiElement",a,s))}});function B(t,e,i){t.classList.add("pswp__button--arrow"),e.on("change",function(){e.options.loop||(t.disabled=i?!(e.currIndex<e.getNumItems()-1):!(e.currIndex>0))})}var H={name:"arrowPrev",className:"pswp__button--arrow--prev",title:"Previous",order:10,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<path d="M29 43l-3 3-16-16 16-16 3 3-13 13 13 13z" id="pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"prev",onInit:B},N={name:"arrowNext",className:"pswp__button--arrow--next",title:"Next",order:11,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<use xlink:href="#pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"next",onInit:function(t,e){B(t,e,!0)}},F={name:"close",title:"Close",order:20,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M24 10l-2-2-6 6-6-6-2 2 6 6-6 6 2 2 6-6 6 6 2-2-6-6z" id="pswp__icn-close"/>',outlineID:"pswp__icn-close"},onClick:"close"},R={name:"zoom",title:"Zoom",order:10,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M17.426 19.926a6 6 0 1 1 1.5-1.5L23 22.5 21.5 24l-4.074-4.074z" id="pswp__icn-zoom"/><path fill="currentColor" class="pswp__zoom-icn-bar-h" d="M11 16v-2h6v2z"/><path fill="currentColor" class="pswp__zoom-icn-bar-v" d="M13 12h2v6h-2z"/>',outlineID:"pswp__icn-zoom"},onClick:"toggleZoom"},W={name:"preloader",appendTo:"bar",order:7,html:{isCustomSVG:!0,inner:'<path fill-rule="evenodd" clip-rule="evenodd" d="M21.2 16a5.2 5.2 0 1 1-5.2-5.2V8a8 8 0 1 0 8 8h-2.8Z" id="pswp__icn-loading"/>',outlineID:"pswp__icn-loading"},onInit:function(t,e){var i,s,n=function(e){var s;i!==e&&(i=e,"active",s=e,t.classList[s?"add":"remove"]("pswp__preloader--active"))},o=function(){if(!e.currSlide.content.isLoading())return n(!1),void(s&&(clearTimeout(s),s=null));s||(s=setTimeout(function(){n(e.currSlide.content.isLoading()),s=null},e.options.preloaderDelay))};e.on("change",o),e.on("loadComplete",function(t){e.currSlide===t.slide&&o()}),e.ui.updatePreloaderVisibility=o}},j={name:"counter",order:5,onInit:function(t,e){e.on("change",function(){t.innerText=e.currIndex+1+e.options.indexIndicatorSep+e.getNumItems()})}};function V(t,e){t.classList[e?"add":"remove"]("pswp--zoomed-in")}var U=function(){function t(e){_classCallCheck(this,t),this.pswp=e,this.updatePreloaderVisibility=void 0,this.Tt=void 0}return _createClass(t,[{key:"init",value:function(){var t=this,e=this.pswp;this.isRegistered=!1,this.uiElementsData=[F,H,N,R,W,j],e.dispatch("uiRegister"),this.uiElementsData.sort(function(t,e){return(t.order||0)-(e.order||0)}),this.items=[],this.isRegistered=!0,this.uiElementsData.forEach(function(e){t.registerElement(e)}),e.on("change",function(){e.element.classList[1===e.getNumItems()?"add":"remove"]("pswp--one-slide")}),e.on("zoomPanUpdate",function(){return t.Dt()})}},{key:"registerElement",value:function(t){this.isRegistered?this.items.push(new E(this.pswp,t)):this.uiElementsData.push(t)}},{key:"Dt",value:function(){var t=this.pswp,e=t.template,i=t.currSlide,s=t.options,n=i.currZoomLevel;if(!this.pswp.opener.isClosing&&(this.pswp.opener.isOpen||(n=i.zoomLevels.initial),n!==this.Tt)){this.Tt=n;var o=i.zoomLevels.initial-i.zoomLevels.secondary;if(Math.abs(o)<.01||!i.isZoomable())return V(e,!1),void e.classList.remove("pswp--zoom-allowed");e.classList.add("pswp--zoom-allowed"),V(e,(n===i.zoomLevels.initial?i.zoomLevels.secondary:i.zoomLevels.initial)<=n),"zoom"!==s.imageClickAction&&"zoom-or-close"!==s.imageClickAction||e.classList.add("pswp--click-to-zoom")}}}]),t}(),q=function(){function t(e,i){_classCallCheck(this,t),this.type=e,i&&Object.assign(this,i)}return _createClass(t,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),t}(),K=function(){function e(i,s){_classCallCheck(this,e),this.element=t("pswp__img pswp__img--placeholder",i?"img":"",s),i&&(this.element.decoding="async",this.element.alt="",this.element.src=i,this.element.setAttribute("role","presentation")),this.element.setAttribute("aria-hidden","true")}return _createClass(e,[{key:"setDisplayedSize",value:function(t,e){this.element&&("IMG"===this.element.tagName?(l(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=a(0,0,t/250)):l(this.element,t,e))}},{key:"destroy",value:function(){this.element.parentNode&&this.element.remove(),this.element=null}}]),e}(),Y=function(){function e(t,i,s){_classCallCheck(this,e),this.instance=i,this.data=t,this.index=s,this.element=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.state=c,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}return _createClass(e,[{key:"removePlaceholder",value:function(){var t=this;this.placeholder&&!this.keepPlaceholder()&&setTimeout(function(){t.placeholder&&(t.placeholder.destroy(),t.placeholder=null)},1e3)}},{key:"load",value:function(e,i){if(this.slide&&this.usePlaceholder())if(this.placeholder){var s=this.placeholder.element;s&&!s.parentElement&&this.slide.container.prepend(s)}else{var n=this.instance.applyFilters("placeholderSrc",!(!this.data.msrc||!this.slide.isFirstSlide)&&this.data.msrc,this);this.placeholder=new K(n,this.slide.container)}this.element&&!i||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=t("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=t("pswp__content"),this.element.innerHTML=this.data.html||""),i&&this.slide&&this.slide.updateContentSize(!0))}},{key:"loadImage",value:function(t){var e=this,i=this.element;this.instance.dispatch("contentLoadImage",{content:this,isLazy:t}).defaultPrevented||(this.updateSrcsetSizes(),this.data.srcset&&(i.srcset=this.data.srcset),i.src=this.data.src,i.alt=this.data.alt||"",this.state=p,i.complete?this.onLoaded():(i.onload=function(){e.onLoaded()},i.onerror=function(){e.onError()}))}},{key:"setSlide",value:function(t){this.slide=t,this.hasSlide=!0,this.instance=t.pswp}},{key:"onLoaded",value:function(){this.state=u,this.slide&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),this.state!==u&&this.state!==d||this.removePlaceholder())}},{key:"onError",value:function(){this.state=d,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}},{key:"isLoading",value:function(){return this.instance.applyFilters("isContentLoading",this.state===p,this)}},{key:"isError",value:function(){return this.state===d}},{key:"isImageContent",value:function(){return"image"===this.type}},{key:"setDisplayedSize",value:function(t,e){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(t,e),!this.instance.dispatch("contentResize",{content:this,width:t,height:e}).defaultPrevented&&(l(this.element,t,e),this.isImageContent()&&!this.isError()))){var i=!this.displayedImageWidth&&t;this.displayedImageWidth=t,this.displayedImageHeight=e,i?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:t,height:e,content:this})}}},{key:"isZoomable",value:function(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==d,this)}},{key:"updateSrcsetSizes",value:function(){if(this.data.srcset){var t=this.element,e=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!t.dataset.largestUsedSize||e>parseInt(t.dataset.largestUsedSize,10))&&(t.sizes=e+"px",t.dataset.largestUsedSize=String(e))}}},{key:"usePlaceholder",value:function(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}},{key:"lazyLoad",value:function(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}},{key:"keepPlaceholder",value:function(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}},{key:"destroy",value:function(){this.hasSlide=!1,this.slide=null,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented||(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=null),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=null))}},{key:"displayError",value:function(){if(this.slide){var e=t("pswp__error-msg");e.innerText=this.instance.options.errorMsg,e=this.instance.applyFilters("contentErrorElement",e,this),this.element=t("pswp__content pswp__error-msg-container"),this.element.appendChild(e),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}},{key:"append",value:function(){var t=this;if(!this.isAttached)if(this.isAttached=!0,this.state!==d){if(!this.instance.dispatch("contentAppend",{content:this}).defaultPrevented){var e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||m())?(this.isDecoding=!0,this.element.decode().catch(function(){}).finally(function(){t.isDecoding=!1,t.appendImage()})):this.appendImage():this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}}else this.displayError()}},{key:"activate",value:function(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||this.slide&&(this.isImageContent()&&this.isDecoding&&!m()?this.appendImage():this.isError()&&this.load(!1,!0))}},{key:"deactivate",value:function(){this.instance.dispatch("contentDeactivate",{content:this})}},{key:"remove",value:function(){this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented||(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}},{key:"appendImage",value:function(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),this.state!==u&&this.state!==d||this.removePlaceholder()))}}]),e}();function G(t,e,i){var s=e.createContentFromData(t,i);if(s&&s.lazyLoad){var n=e.options,o=w(n,e.viewportSize||y(n,e),t,i),a=new x(n,t,-1);return a.update(s.width,s.height,o),s.lazyLoad(),s.setDisplayedSize(Math.ceil(s.width*a.initial),Math.ceil(s.height*a.initial)),s}}var X=function(){function t(e){_classCallCheck(this,t),this.pswp=e,this.limit=Math.max(e.options.preload[0]+e.options.preload[1]+1,5),this.It=[]}return _createClass(t,[{key:"updateLazy",value:function(t){var e=this.pswp;if(!e.dispatch("lazyLoad").defaultPrevented){var i,s=e.options.preload,n=void 0===t||t>=0;for(i=0;i<=s[1];i++)this.loadSlideByIndex(e.currIndex+(n?i:-i));for(i=1;i<=s[0];i++)this.loadSlideByIndex(e.currIndex+(n?-i:i))}}},{key:"loadSlideByIndex",value:function(t){t=this.pswp.getLoopedIndex(t);var e=this.getContentByIndex(t);e||(e=function(t,e){var i=e.getItemData(t);if(!e.dispatch("lazyLoadSlide",{index:t,itemData:i}).defaultPrevented)return G(i,e,t)}(t,this.pswp))&&this.addToCache(e)}},{key:"getContentBySlide",value:function(t){var e=this.getContentByIndex(t.index);return e||(e=this.pswp.createContentFromData(t.data,t.index))&&this.addToCache(e),e&&e.setSlide(t),e}},{key:"addToCache",value:function(t){if(this.removeByIndex(t.index),this.It.push(t),this.It.length>this.limit){var e=this.It.findIndex(function(t){return!t.isAttached&&!t.hasSlide});-1!==e&&this.It.splice(e,1)[0].destroy()}}},{key:"removeByIndex",value:function(t){var e=this.It.findIndex(function(e){return e.index===t});-1!==e&&this.It.splice(e,1)}},{key:"getContentByIndex",value:function(t){return this.It.find(function(e){return e.index===t})}},{key:"destroy",value:function(){this.It.forEach(function(t){return t.destroy()}),this.It=null}}]),t}(),J=.003,$=function(){function t(e){_classCallCheck(this,t),this.pswp=e,this.isClosed=!0,this.At=this.At.bind(this),this.Et=void 0,e.on("firstZoomPan",this.At)}return _createClass(t,[{key:"open",value:function(){this.At(),this.Pt()}},{key:"close",value:function(){var t=this;if(this.isClosed||this.isClosing||this.isOpening)return!1;var e=this.pswp.currSlide;return this.isOpen=!1,this.isOpening=!1,this.isClosing=!0,this.Lt=this.pswp.options.hideAnimationDuration,e&&e.currZoomLevel*e.width>=this.pswp.options.maxWidthToAnimate&&(this.Lt=0),this.kt(),setTimeout(function(){t.Pt()},this.Zt?30:0),!0}},{key:"At",value:function(){if(this.pswp.off("firstZoomPan",this.At),!this.isOpening){var t=this.pswp.currSlide;this.isOpening=!0,this.isClosing=!1,this.Lt=this.pswp.options.showAnimationDuration,t&&t.zoomLevels.initial*t.width>=this.pswp.options.maxWidthToAnimate&&(this.Lt=0),this.kt()}}},{key:"kt",value:function(){var t=this.pswp,e=this.pswp.currSlide,i=t.options;if("fade"===i.showHideAnimationType?(i.showHideOpacity=!0,this.Et=!1):"none"===i.showHideAnimationType?(i.showHideOpacity=!1,this.Lt=0,this.Et=!1):this.isOpening&&t.Ft?this.Et=t.Ft:this.Et=this.pswp.getThumbBounds(),this.Ot=e.getPlaceholderElement(),t.animations.stopAll(),this.Bt=this.Lt>50,this.Rt=Boolean(this.Et)&&e.content&&e.content.usePlaceholder()&&(!this.isClosing||!t.mainScroll.isShifted()),this.Rt?this.Nt=i.showHideOpacity:(this.Nt=!0,this.isOpening&&(e.zoomAndPanToInitial(),e.applyCurrentZoomPan())),this.Vt=!this.Nt&&this.pswp.options.bgOpacity>J,this.Gt=this.Nt?t.element:t.bg,!this.Bt)return this.Lt=0,this.Rt=!1,this.Vt=!1,this.Nt=!0,void(this.isOpening&&(t.element.style.opacity=String(J),t.applyBgOpacity(1)));this.Rt&&this.Et&&this.Et.innerRect?(this.Zt=!0,this.Ut=this.pswp.container,this.qt=this.pswp.currSlide.holderElement,t.container.style.overflow="hidden",t.container.style.width=t.viewportSize.x+"px"):this.Zt=!1,this.isOpening?(this.Nt?(t.element.style.opacity=String(J),t.applyBgOpacity(1)):(this.Vt&&(t.bg.style.opacity=String(J)),t.element.style.opacity="1"),this.Rt&&(this.Ht(),this.Ot&&(this.Ot.style.willChange="transform",this.Ot.style.opacity=String(J)))):this.isClosing&&(t.mainScroll.itemHolders[0].el.style.display="none",t.mainScroll.itemHolders[2].el.style.display="none",this.Zt&&0!==t.mainScroll.x&&(t.mainScroll.resetPosition(),t.mainScroll.resize()))}},{key:"Pt",value:function(){var t=this;this.isOpening&&this.Bt&&this.Ot&&"IMG"===this.Ot.tagName?new Promise(function(e){var i,s=!1,n=!0;(i=t.Ot,"decode"in i?i.decode().catch(function(){}):i.complete?Promise.resolve(i):new Promise(function(t,e){i.onload=function(){return t(i)},i.onerror=e})).finally(function(){s=!0,n||e()}),setTimeout(function(){n=!1,s&&e()},50),setTimeout(e,250)}).finally(function(){return t.Kt()}):this.Kt()}},{key:"Kt",value:function(){this.pswp.element.style.setProperty("--pswp-transition-duration",this.Lt+"ms"),this.pswp.dispatch(this.isOpening?"openingAnimationStart":"closingAnimationStart"),this.pswp.dispatch("initialZoom"+(this.isOpening?"In":"Out")),this.pswp.element.classList[this.isOpening?"add":"remove"]("pswp--ui-visible"),this.isOpening?(this.Ot&&(this.Ot.style.opacity="1"),this.Wt()):this.isClosing&&this.jt(),this.Bt||this.Xt()}},{key:"Xt",value:function(){var t=this.pswp;this.isOpen=this.isOpening,this.isClosed=this.isClosing,this.isOpening=!1,this.isClosing=!1,t.dispatch(this.isOpen?"openingAnimationEnd":"closingAnimationEnd"),t.dispatch("initialZoom"+(this.isOpen?"InEnd":"OutEnd")),this.isClosed?t.destroy():this.isOpen&&(this.Rt&&(t.container.style.overflow="visible",t.container.style.width="100%"),t.currSlide.applyCurrentZoomPan())}},{key:"Wt",value:function(){var t=this.pswp;this.Rt&&(this.Zt&&(this.Yt(this.Ut,"transform","translate3d(0,0,0)"),this.Yt(this.qt,"transform","none")),t.currSlide.zoomAndPanToInitial(),this.Yt(t.currSlide.container,"transform",t.currSlide.getCurrentTransform())),this.Vt&&this.Yt(t.bg,"opacity",String(t.options.bgOpacity)),this.Nt&&this.Yt(t.element,"opacity","1")}},{key:"jt",value:function(){var t=this.pswp;this.Rt&&this.Ht(!0),this.Vt&&t.bgOpacity>.01&&this.Yt(t.bg,"opacity","0"),this.Nt&&this.Yt(t.element,"opacity","0")}},{key:"Ht",value:function(t){if(this.Et){var i=this.pswp,s=this.Et.innerRect,n=i.currSlide,o=i.viewportSize;if(this.Zt){var h=-o.x+(this.Et.x-s.x)+s.w,l=-o.y+(this.Et.y-s.y)+s.h,c=o.x-s.w,p=o.y-s.h;t?(this.Yt(this.Ut,"transform",a(h,l)),this.Yt(this.qt,"transform",a(c,p))):(r(this.Ut,h,l),r(this.qt,c,p))}e(n.pan,s||this.Et),n.currZoomLevel=this.Et.w/n.width,t?this.Yt(n.container,"transform",n.getCurrentTransform()):n.applyCurrentZoomPan()}}},{key:"Yt",value:function(t,e,i){var s=this;if(this.Lt){var n=this.pswp.animations,o={duration:this.Lt,easing:this.pswp.options.easing,onComplete:function(){n.activeAnimations.length||s.Xt()},target:t};o[e]=i,n.startTransition(o)}else t.style[e]=i}}]),t}(),Q={allowPanToNext:!0,spacing:.1,loop:!0,pinchToClose:!0,closeOnVerticalDrag:!0,hideAnimationDuration:333,showAnimationDuration:333,zoomAnimationDuration:333,escKey:!0,arrowKeys:!0,returnFocus:!0,maxWidthToAnimate:4e3,clickToCloseNonZoomable:!0,imageClickAction:"zoom-or-close",bgClickAction:"close",tapAction:"toggle-controls",doubleTapAction:"zoom",indexIndicatorSep:" / ",preloaderDelay:2e3,bgOpacity:.8,index:0,errorMsg:"The image cannot be loaded",preload:[1,2],easing:"cubic-bezier(.4,0,.22,1)"};return function(i){_inherits(a,i);var s=_createSuper(a);function a(t){var e;return _classCallCheck(this,a),(e=s.call(this)).ii(t),e.offset={},e.si={},e.viewportSize={},e.bgOpacity=1,e.topBar=void 0,e.events=new f,e.animations=new Z,e.mainScroll=new L(_assertThisInitialized(e)),e.gestures=new I(_assertThisInitialized(e)),e.opener=new $(_assertThisInitialized(e)),e.keyboard=new O(_assertThisInitialized(e)),e.contentLoader=new X(_assertThisInitialized(e)),e}return _createClass(a,[{key:"init",value:function(){var t=this;if(!this.isOpen&&!this.isDestroying){this.isOpen=!0,this.dispatch("init"),this.dispatch("beforeOpen"),this.hi();var e="pswp--open";return this.gestures.supportsTouch&&(e+=" pswp--touch"),this.options.mainClass&&(e+=" "+this.options.mainClass),this.element.className+=" "+e,this.currIndex=this.options.index||0,this.potentialIndex=this.currIndex,this.dispatch("firstUpdate"),this.scrollWheel=new M(this),(Number.isNaN(this.currIndex)||this.currIndex<0||this.currIndex>=this.getNumItems())&&(this.currIndex=0),this.gestures.supportsTouch||this.mouseDetected(),this.updateSize(),this.offset.y=window.pageYOffset,this.ei=this.getItemData(this.currIndex),this.dispatch("gettingData",{index:this.currIndex,data:this.ei,slide:void 0}),this.Ft=this.getThumbBounds(),this.dispatch("initialLayout"),this.on("openingAnimationEnd",function(){t.mainScroll.itemHolders[0].el.style.display="block",t.mainScroll.itemHolders[2].el.style.display="block",t.setContent(t.mainScroll.itemHolders[0],t.currIndex-1),t.setContent(t.mainScroll.itemHolders[2],t.currIndex+1),t.appendHeavy(),t.contentLoader.updateLazy(),t.events.add(window,"resize",t.ni.bind(t)),t.events.add(window,"scroll",t.oi.bind(t)),t.dispatch("bindEvents")}),this.setContent(this.mainScroll.itemHolders[1],this.currIndex),this.dispatch("change"),this.opener.open(),this.dispatch("afterInit"),!0}}},{key:"getLoopedIndex",value:function(t){var e=this.getNumItems();return this.options.loop&&(t>e-1&&(t-=e),t<0&&(t+=e)),o(t,0,e-1)}},{key:"appendHeavy",value:function(){this.mainScroll.itemHolders.forEach(function(t){t.slide&&t.slide.appendHeavy()})}},{key:"goTo",value:function(t){this.mainScroll.moveIndexBy(this.getLoopedIndex(t)-this.potentialIndex)}},{key:"next",value:function(){this.goTo(this.potentialIndex+1)}},{key:"prev",value:function(){this.goTo(this.potentialIndex-1)}},{key:"zoomTo",value:function(){var t;(t=this.currSlide).zoomTo.apply(t,arguments)}},{key:"toggleZoom",value:function(){this.currSlide.toggleZoom()}},{key:"close",value:function(){this.opener.isOpen&&!this.isDestroying&&(this.isDestroying=!0,this.dispatch("close"),this.events.removeAll(),this.opener.close())}},{key:"destroy",value:function(){if(!this.isDestroying)return this.options.showHideAnimationType="none",void this.close();this.dispatch("destroy"),this.listeners=null,this.scrollWrap.ontouchmove=null,this.scrollWrap.ontouchend=null,this.element.remove(),this.mainScroll.itemHolders.forEach(function(t){t.slide&&t.slide.destroy()}),this.contentLoader.destroy(),this.events.removeAll()}},{key:"refreshSlideContent",value:function(t){var e=this;this.contentLoader.removeByIndex(t),this.mainScroll.itemHolders.forEach(function(i,s){var n=e.currSlide.index-1+s;e.canLoop()&&(n=e.getLoopedIndex(n)),n===t&&(e.setContent(i,t,!0),1===s&&(e.currSlide=i.slide,i.slide.setIsActive(!0)))}),this.dispatch("change")}},{key:"setContent",value:function(t,e,i){if(this.canLoop()&&(e=this.getLoopedIndex(e)),t.slide){if(t.slide.index===e&&!i)return;t.slide.destroy(),t.slide=null}if(this.canLoop()||!(e<0||e>=this.getNumItems())){var s=this.getItemData(e);t.slide=new S(s,e,this),e===this.currIndex&&(this.currSlide=t.slide),t.slide.append(t.el)}}},{key:"getViewportCenterPoint",value:function(){return{x:this.viewportSize.x/2,y:this.viewportSize.y/2}}},{key:"updateSize",value:function(t){if(!this.isDestroying){var i=y(this.options,this);!t&&n(i,this.si)||(e(this.si,i),this.dispatch("beforeResize"),e(this.viewportSize,this.si),this.oi(),this.dispatch("viewportSize"),this.mainScroll.resize(this.opener.isOpen),!this.hasMouse&&window.matchMedia("(any-hover: hover)").matches&&this.mouseDetected(),this.dispatch("resize"))}}},{key:"applyBgOpacity",value:function(t){this.bgOpacity=Math.max(t,0),this.bg.style.opacity=String(this.bgOpacity*this.options.bgOpacity)}},{key:"mouseDetected",value:function(){this.hasMouse||(this.hasMouse=!0,this.element.classList.add("pswp--has_mouse"))}},{key:"ni",value:function(){var t=this;this.updateSize(),/iPhone|iPad|iPod/i.test(window.navigator.userAgent)&&setTimeout(function(){t.updateSize()},500)}},{key:"oi",value:function(){this.setScrollOffset(0,window.pageYOffset)}},{key:"setScrollOffset",value:function(t,e){this.offset.x=t,this.offset.y=e,this.dispatch("updateScrollOffset")}},{key:"hi",value:function(){this.element=t("pswp"),this.element.setAttribute("tabindex","-1"),this.element.setAttribute("role","dialog"),this.template=this.element,this.bg=t("pswp__bg",!1,this.element),this.scrollWrap=t("pswp__scroll-wrap",!1,this.element),this.container=t("pswp__container",!1,this.scrollWrap),this.mainScroll.appendHolders(),this.ui=new U(this),this.ui.init(),(this.options.appendToEl||document.body).appendChild(this.element)}},{key:"getThumbBounds",value:function(){return function(t,e,i){var s=i.dispatch("thumbBounds",{index:t,itemData:e,instance:i});if(s.thumbBounds)return s.thumbBounds;var n,o,a=e.element;if(a&&!1!==i.options.thumbSelector){var r=i.options.thumbSelector||"img";o=a.matches(r)?a:a.querySelector(r)}return(o=i.applyFilters("thumbEl",o,e,t))&&(n=e.thumbCropped?function(t,e,i){var s=t.getBoundingClientRect(),n=s.width/e,o=s.height/i,a=n>o?n:o,r=(s.width-e*a)/2,h=(s.height-i*a)/2,l={x:s.left+r,y:s.top+h,w:e*a};return l.innerRect={w:s.width,h:s.height,x:r,y:h},l}(o,e.width||e.w,e.height||e.h):function(t){var e=o.getBoundingClientRect();return{x:e.left,y:e.top,w:e.width}}()),i.applyFilters("thumbBounds",n,e,t)}(this.currIndex,this.currSlide?this.currSlide.data:this.ei,this)}},{key:"canLoop",value:function(){return this.options.loop&&this.getNumItems()>2}},{key:"ii",value:function(t){window.matchMedia("(prefers-reduced-motion), (update: slow)").matches&&(t.showHideAnimationType="none",t.zoomAnimationDuration=0),this.options=_objectSpread(_objectSpread({},Q),t)}}]),a}(function(t){_inherits(i,t);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"getNumItems",value:function(){var t,e=this.options.dataSource;e?"length"in e?t=e.length:"gallery"in e&&(e.items||(e.items=this.Qt(e.gallery)),e.items&&(t=e.items.length)):t=0;var i=this.dispatch("numItems",{dataSource:e,numItems:t});return this.applyFilters("numItems",i.numItems,e)}},{key:"createContentFromData",value:function(t,e){return new Y(t,this,e)}},{key:"getItemData",value:function(t){var e,i=this.options.dataSource;Array.isArray(i)?e=i[t]:i&&i.gallery&&(i.items||(i.items=this.Qt(i.gallery)),e=i.items[t]);var s=e;s instanceof Element&&(s=this.ti(s));var n=this.dispatch("itemData",{itemData:s||{},index:t});return this.applyFilters("itemData",n.itemData,t)}},{key:"Qt",value:function(t){return this.options.children||this.options.childSelector?function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,s=[];if(t instanceof Element)s=[t];else if(t instanceof NodeList||Array.isArray(t))s=Array.from(t);else{var n="string"==typeof t?t:e;n&&(s=Array.from(i.querySelectorAll(n)))}return s}(this.options.children,this.options.childSelector,t)||[]:[t]}},{key:"ti",value:function(t){var e={element:t},i="A"===t.tagName?t:t.querySelector("a");if(i){e.src=i.dataset.pswpSrc||i.href,i.dataset.pswpSrcset&&(e.srcset=i.dataset.pswpSrcset),e.width=parseInt(i.dataset.pswpWidth,10),e.height=parseInt(i.dataset.pswpHeight,10),e.w=e.width,e.h=e.height,i.dataset.pswpType&&(e.type=i.dataset.pswpType);var s=t.querySelector("img");s&&(e.msrc=s.currentSrc||s.src,e.alt=s.getAttribute("alt")),(i.dataset.pswpCropped||i.dataset.cropped)&&(e.thumbCropped=!0)}return this.applyFilters("domItemData",e,t,i)}},{key:"lazyLoadData",value:function(t,e){return G(t,this,e)}}]),i}(function(){function t(){_classCallCheck(this,t),this.$t={},this.Jt={},this.pswp=void 0,this.options=void 0}return _createClass(t,[{key:"addFilter",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;this.Jt[t]||(this.Jt[t]=[]),this.Jt[t].push({fn:e,priority:i}),this.Jt[t].sort(function(t,e){return t.priority-e.priority}),this.pswp&&this.pswp.addFilter(t,e,i)}},{key:"removeFilter",value:function(t,e){this.Jt[t]&&(this.Jt[t]=this.Jt[t].filter(function(t){return t.fn!==e})),this.pswp&&this.pswp.removeFilter(t,e)}},{key:"applyFilters",value:function(t){for(var e=this,i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];return this.Jt[t]&&this.Jt[t].forEach(function(t){s[0]=t.fn.apply(e,s)}),s[0]}},{key:"on",value:function(t,e){this.$t[t]||(this.$t[t]=[]),this.$t[t].push(e),this.pswp&&this.pswp.on(t,e)}},{key:"off",value:function(t,e){this.$t[t]&&(this.$t[t]=this.$t[t].filter(function(t){return e!==t})),this.pswp&&this.pswp.off(t,e)}},{key:"dispatch",value:function(t,e){var i=this;if(this.pswp)return this.pswp.dispatch(t,e);var s=new q(t,e);return this.$t?(this.$t[t]&&this.$t[t].forEach(function(t){t.call(i,s)}),s):s}}]),t}()))});

},{}]},{},[1]);
